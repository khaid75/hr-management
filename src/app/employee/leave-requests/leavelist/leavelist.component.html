<div class="container mt-5">
  <h2 class="mb-4 text-center">Leave List</h2>

  <!-- Search Form -->
  <div class="mb-4">
    <label for="search" class="mr-2">Search by Employee Name:</label>
    <input
      id="search"
      type="text"
      [(ngModel)]="searchQuery"
      (ngModelChange)="onSearchChange()"
      class="form-control"
      placeholder="Search by Employee Name"
    />
  </div>

  <!-- Leave Table -->
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>Employee Name</th>
        <th>Leave Type</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let leave of filteredLeaves">
        <td>{{ leave.id }}</td>
        <td>{{ leave.employeeName }}</td>
        <td>{{ leave.leaveType }}</td>
        <td>{{ leave.startDate }}</td>
        <td>{{ leave.endDate }}</td>
        <td>{{ leave.status }}</td>
        <td>
          <button class="btn btn-warning btn-sm" (click)="editLeave(leave.id)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteLeave(leave.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Update Leave Form -->
  <div *ngIf="showUpdateForm" class="update-leave-form mt-5">
    <h2 class="mb-4">Update Leave</h2>
    <form (ngSubmit)="onUpdate()">
      <div class="form-group">
        <label for="employeeName">Employee Name:</label>
        <input
          id="employeeName"
          type="text"
          [(ngModel)]="leaveData.employeeName"
          name="employeeName"
          class="form-control form-control-lg"
          required
        />
      </div>

      <div class="form-group">
        <label for="leaveType">Leave Type:</label>
        <input
          id="leaveType"
          type="text"
          [(ngModel)]="leaveData.leaveType"
          name="leaveType"
          class="form-control form-control-lg"
          required
        />
      </div>

      <div class="form-group">
        <label for="startDate">Start Date:</label>
        <input
          id="startDate"
          type="date"
          [(ngModel)]="leaveData.startDate"
          name="startDate"
          class="form-control form-control-lg"
          required
        />
      </div>

      <div class="form-group">
        <label for="endDate">End Date:</label>
        <input
          id="endDate"
          type="date"
          [(ngModel)]="leaveData.endDate"
          name="endDate"
          class="form-control form-control-lg"
          required
        />
      </div>

      <div class="form-group">
        <label for="status">Status:</label>
        <select id="status" [(ngModel)]="leaveData.status" name="status" class="form-control form-control-lg">
          <option value="Pending">Pending</option>
          <option value="Approved">Approved</option>
          <option value="Rejected">Rejected</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary btn-lg btn-block">Update Leave</button>
    </form>
  </div>
</div>
